<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ghost Super Aviator Signal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap');
    :root{
      --bg:#000814; --card:#11182a; --neon:#00f7ff; --ink:#e6fffb;
    }
    body{background:var(--bg);color:var(--ink);font-family:Orbitron,system-ui,Segoe UI,Arial;text-align:center;padding:26px}
    h1{font-size:24px;margin:0 0 18px;text-shadow:0 0 15px var(--neon)}
    .card{max-width:760px;margin:0 auto;background:var(--card);border:2px solid var(--neon);border-radius:18px;
      box-shadow:0 0 28px var(--neon);padding:22px}
    .row{margin:6px 0}
    .label{opacity:.9}
    button{background:var(--neon);color:#001018;border:0;border-radius:14px;padding:14px 26px;font-weight:700;
      box-shadow:0 0 18px var(--neon);cursor:pointer;margin-top:18px}
    button:disabled{opacity:.7;cursor:not-allowed}
    .status{margin-top:12px;min-height:24px;color:var(--neon);text-shadow:0 0 10px var(--neon)}
    .dim{opacity:.7}
  </style>
</head>
<body>
  <h1>üëª Ghost Super Aviator Signal</h1>

  <div id="signalBox" class="card">
    <div class="row dim">Press Generate to get your super signal</div>
  </div>

  <button id="genBtn">Generate Signal</button>
  <div id="nextStatus" class="status"></div>

  <script>
    // --- State ---
    let targetTime = null;      // Date of the currently shown signal time
    let countdownTimer = null;  // interval id
    let queueNext = false;      // user asked to queue the next signal
    const btn = document.getElementById('genBtn');
    const box = document.getElementById('signalBox');
    const statusEl = document.getElementById('nextStatus');

    // --- Helpers ---
    const fmtTime = d => d.toTimeString().slice(0,5);
    const pad = n => (n<10?'0':'')+n;

    function renderSignal(due, odd, conf){
      box.innerHTML = `
        <div class="row"><span class="label">‚è∞ Time:</span> <b>${fmtTime(due)}</b></div>
        <div class="row"><span class="label">üéØ Exact Odd:</span> <b>${odd.toFixed(2)}x</b></div>
        <div class="row"><span class="label">‚úÖ Confidence:</span> <b>${conf}%</b></div>
        <div class="row"><span class="label">üî• Mode:</span> <b>SUPER SAFE</b></div>
      `;
    }

    function makeSuperSignal(){
      const now = new Date();
      // safer entry window: +3‚Ä¶+7 min
      const addMin = Math.floor(Math.random()*5)+3;
      const due = new Date(now.getTime() + addMin*60000);
      const odd = Math.random()*8 + 7;           // 7.00‚Äì15.00x
      const conf = Math.floor(Math.random()*8)+88; // 88‚Äì95%
      return {due, odd, conf};
    }

    function clearCountdown(){
      if (countdownTimer){ clearInterval(countdownTimer); countdownTimer=null; }
      statusEl.textContent = "";
      queueNext = false;
    }

    function startCountdown(until){
      if (countdownTimer) return; // already ticking
      countdownTimer = setInterval(()=>{
        const now = new Date();
        let ms = until - now;
        if (ms <= 0){
          clearInterval(countdownTimer); countdownTimer=null;
          // auto-generate next signal now
          generateSignal(true);
          return;
        }
        const sec = Math.floor(ms/1000)%60;
        const min = Math.floor(ms/60000);
        statusEl.textContent = `‚è≥ Generating next signal in ${pad(min)}:${pad(sec)} ‚Ä¶`;
      }, 250);
    }

    // --- Main ---
    function generateSignal(force=false){
      const now = new Date();

      // If a signal exists and its time hasn't passed, queue the next one
      if (!force && targetTime && now < targetTime){
        queueNext = true;
        startCountdown(targetTime); // wait until current signal time passes
        return;
      }

      // Create and show a fresh signal
      const sig = makeSuperSignal();
      targetTime = sig.due;
      renderSignal(sig.due, sig.odd, sig.conf);

      // If user had queued "next", keep showing countdown to THIS new time
      if (queueNext){ startCountdown(targetTime); }
      else { clearCountdown(); }
    }

    btn.addEventListener('click', ()=>generateSignal(false));
  </script>
</body>
</html>
